{"version":3,"sources":["demo/Demo08.js"],"names":["__webpack_require__","r","__webpack_exports__","d","Demo02","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_lib_cuon_utils__WEBPACK_IMPORTED_MODULE_1__","_util__WEBPACK_IMPORTED_MODULE_2__","ref","useRef","useEffect","canvas","current","gl","getWebGLContext","initShaders","Error","a_Position","getAttribLocation","program","a_Color","vertexList","createVertexList","FSIZE","BYTES_PER_ELEMENT","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","clearColor","clear","COLOR_BUFFER_BIT","drawArrays","TRIANGLE_STRIP","a","createElement","width","height"],"mappings":"0FAAAA,EAAAC,EAAAC,GAAAF,EAAAG,EAAAD,EAAA,4BAAAE,IAAA,IAAAC,EAAAL,EAAA,GAAAM,EAAAN,EAAAO,EAAAF,GAAAG,EAAAR,EAAA,IAAAS,EAAAT,EAAA,IAAAA,EAAA,IAYe,SAASI,IACtB,IAAIM,EAAMC,mBAyDV,OAvDAC,oBAAU,WACR,IAAIC,EAASH,EAAII,QACbC,EAAKC,YAAgBH,GAuBzB,IAFgBI,YAAYF,EAnBV,iOAWA,sIAWhB,MAAM,IAAIG,MAAM,+BAGlB,IAAIC,EAAaJ,EAAGK,kBAAkBL,EAAGM,QAAS,cAC9CC,EAAUP,EAAGK,kBAAkBL,EAAGM,QAAS,WAE3CE,EAAaC,YAAiB,CAChC,CAAC,CAAC,EAAK,IAAM,CAAC,EAAK,EAAK,IACxB,CAAC,EAAE,IAAM,IAAM,CAAC,EAAK,EAAK,IAC1B,CAAC,CAAC,IAAM,IAAM,CAAC,EAAK,EAAK,MAEvBC,EAAQF,EAAWG,kBAEnBC,EAASZ,EAAGa,eAEhBb,EAAGc,WAAWd,EAAGe,aAAcH,GAC/BZ,EAAGgB,WAAWhB,EAAGe,aAAcP,EAAYR,EAAGiB,aAE9CjB,EAAGkB,oBAAoBd,EAAY,EAAGJ,EAAGmB,OAAO,EAAe,EAART,EAAW,GAClEV,EAAGoB,wBAAwBhB,GAE3BJ,EAAGkB,oBAAoBX,EAAS,EAAGP,EAAGmB,OAAO,EAAe,EAART,EAAmB,EAARA,GAC/DV,EAAGoB,wBAAwBb,GAE3BP,EAAGqB,WAAW,EAAG,EAAG,EAAG,GACvBrB,EAAGsB,MAAMtB,EAAGuB,kBACZvB,EAAGwB,WAAWxB,EAAGyB,eAAgB,EAAG,IACnC,IAEIlC,EAAAmC,EAAAC,cAAA,UAAQC,MAAO,IAAKC,OAAQ,IAAKlC,IAAKA","file":"static/js/15.f5a029fb.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react'\r\nimport { getWebGLContext, initShaders } from '../lib/cuon-utils'\r\nimport {\r\n  createVertexList,\r\n  createRotateZMatrix,\r\n  createScaleMatrix,\r\n  createTranslateMatrix\r\n} from './util'\r\nimport { combineLatest, concat } from 'rxjs'\r\nimport { of, map, take, tap, mapTo } from 'rxjs/operators'\r\nimport { Spring, SpringSubject } from '../spring'\r\n\r\nexport default function Demo02() {\r\n  let ref = useRef()\r\n\r\n  useEffect(() => {\r\n    let canvas = ref.current\r\n    let gl = getWebGLContext(canvas)\r\n\r\n    let VSHADER_SOURCE = `\r\n      attribute vec4 a_Position;\r\n      attribute vec4 a_Color;\r\n      varying vec4 v_Color;\r\n      void main() {\r\n        gl_Position = a_Position;\r\n        gl_PointSize = 3.0;\r\n        v_Color = a_Color;\r\n      }\r\n    `\r\n\r\n    let FSHADER_SOURCE = `\r\n      precision mediump float;\r\n      varying vec4 v_Color;\r\n      void main() {\r\n        gl_FragColor = v_Color;\r\n      }\r\n    `\r\n\r\n    let isSuccess = initShaders(gl, VSHADER_SOURCE, FSHADER_SOURCE)\r\n\r\n    if (!isSuccess) {\r\n      throw new Error('failed to initilize shaders')\r\n    }\r\n\r\n    let a_Position = gl.getAttribLocation(gl.program, 'a_Position')\r\n    let a_Color = gl.getAttribLocation(gl.program, 'a_Color')\r\n\r\n    let vertexList = createVertexList([\r\n      [[0.0, 0.5], [1.0, 0.0, 0.0]],\r\n      [[-0.5, -0.5], [0.0, 1.0, 0.0]],\r\n      [[0.5, -0.5], [0.0, 0.0, 1.0]]\r\n    ])\r\n    let FSIZE = vertexList.BYTES_PER_ELEMENT\r\n\r\n    let buffer = gl.createBuffer()\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer)\r\n    gl.bufferData(gl.ARRAY_BUFFER, vertexList, gl.STATIC_DRAW)\r\n\r\n    gl.vertexAttribPointer(a_Position, 2, gl.FLOAT, false, FSIZE * 5, 0)\r\n    gl.enableVertexAttribArray(a_Position)\r\n\r\n    gl.vertexAttribPointer(a_Color, 3, gl.FLOAT, false, FSIZE * 5, FSIZE * 2)\r\n    gl.enableVertexAttribArray(a_Color)\r\n\r\n    gl.clearColor(0, 0, 0, 1)\r\n    gl.clear(gl.COLOR_BUFFER_BIT)\r\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 3)\r\n  }, [])\r\n\r\n  return <canvas width={400} height={400} ref={ref} />\r\n}\r\n"],"sourceRoot":""}
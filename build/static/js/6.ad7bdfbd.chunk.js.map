{"version":3,"sources":["lib/webgl-utils.js","lib/webgl-debug.js","lib/cuon-utils.js","demo/util.js","../node_modules/_@babel_runtime@7.3.1@@babel/runtime/regenerator/index.js","../node_modules/_@babel_runtime@7.3.1@@babel/runtime/helpers/esm/asyncToGenerator.js","demo/image/sky.jpg","demo/image/circle.gif","../node_modules/_@babel_runtime@7.3.1@@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/_regenerator-runtime@0.12.1@regenerator-runtime/runtime-module.js","../node_modules/_regenerator-runtime@0.12.1@regenerator-runtime/runtime.js","demo/Demo09.js"],"names":["WebGLUtils","makeFailHTML","msg","GET_A_WEBGL_BROWSER","OTHER_PROBLEM","create3DContext","canvas","opt_attribs","names","context","ii","length","getContext","e","setupWebGL","opt_onError","container","document","getElementsByTagName","str","window","WebGLRenderingContext","innerHTML","addEventListener","event","statusMessage","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","cancelAnimationFrame","cancelRequestAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelAnimationFrame","mozCancelRequestAnimationFrame","msCancelAnimationFrame","msCancelRequestAnimationFrame","oCancelAnimationFrame","oCancelRequestAnimationFrame","clearTimeout","WebGLDebugUtils","log","console","glValidEnumContexts","enable","0","disable","getParameter","drawArrays","drawElements","2","createShader","getShaderParameter","1","getProgramParameter","getVertexAttrib","vertexAttribPointer","bindTexture","activeTexture","getTexParameter","texParameterf","texParameteri","texImage2D","6","7","texSubImage2D","copyTexImage2D","copyTexSubImage2D","generateMipmap","bindBuffer","bufferData","bufferSubData","getBufferParameter","pixelStorei","readPixels","4","5","bindRenderbuffer","bindFramebuffer","checkFramebufferStatus","framebufferRenderbuffer","framebufferTexture2D","getFramebufferAttachmentParameter","getRenderbufferParameter","renderbufferStorage","clear","depthFunc","blendFunc","blendFuncSeparate","3","blendEquation","blendEquationSeparate","stencilFunc","stencilFuncSeparate","stencilMaskSeparate","stencilOp","stencilOpSeparate","cullFace","frontFace","glEnums","init","ctx","propertyName","checkInit","glEnumToString","value","name","undefined","toString","glFunctionArgToString","functionName","argumentIndex","funcInfo","resetToInitialState","numAttribs","MAX_VERTEX_ATTRIBS","tmp","createBuffer","ARRAY_BUFFER","disableVertexAttribArray","FLOAT","vertexAttrib1f","deleteBuffer","numTextureUnits","MAX_TEXTURE_IMAGE_UNITS","TEXTURE0","TEXTURE_CUBE_MAP","TEXTURE_2D","useProgram","ELEMENT_ARRAY_BUFFER","FRAMEBUFFER","RENDERBUFFER","BLEND","CULL_FACE","DEPTH_TEST","DITHER","SCISSOR_TEST","blendColor","FUNC_ADD","ONE","ZERO","clearColor","clearDepth","clearStencil","colorMask","BACK","LESS","depthMask","depthRange","CCW","hint","GENERATE_MIPMAP_HINT","DONT_CARE","lineWidth","PACK_ALIGNMENT","UNPACK_ALIGNMENT","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","BROWSER_DEFAULT_WEBGL","polygonOffset","sampleCoverage","scissor","width","height","ALWAYS","stencilMask","KEEP","viewport","clientWidth","clientHeight","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","getError","mightBeEnum","makeDebugContext","opt_onErrorFunc","err","args","argStr","glErrorShadow","makeErrorWrapper","result","apply","arguments","wrapper","NO_ERROR","makeLostContextSimulatingContext","wrapper_","contextId_","contextLost_","resourceDb_","onLost_","onRestored_","nextOnRestored_","glErrorShadow_","makeLostContextWrapper","f","arg","obj","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLTexture","__webglDebugContextLostId__","checkResources","INVALID_OPERATION","makeWebGLContextEvent","loseContext","k","Object","keys","clearErrors","CONTEXT_LOST_WEBGL","restoreContext","resource","deleteFramebuffer","deleteProgram","deleteRenderbuffer","deleteShader","deleteTexture","freeResources","creationFunctions","push","functionsThatShouldReturnNull","isFunctions","wrapEvent","listener","info","handleEvent","FRAMEBUFFER_UNSUPPORTED","getAttribLocation","getVertexAttribOffset","isContextLost","registerOnContextLostListener","registerOnContextRestoredListener","initShaders","gl","vshader","fshader","program","vertexShader","loadShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","LINK_STATUS","error","getProgramInfoLog","type","source","shader","shaderSource","compileShader","COMPILE_STATUS","getShaderInfoLog","getWebGLContext","opt_debug","__webpack_require__","d","__webpack_exports__","glsl","loadImageList","getPosition","createVertexList","createRotateZMatrix","createTranslateMatrix","createScaleMatrix","x","loadImage","src","Promise","resolve","reject","image","Image","onload","onerror","list","all","map","getX","rect","clientX","left","getY","clientY","top","getBoundingClientRect","Float32Array","flat","Infinity","createMatrix","sourceList","data","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","array","return","radian","Math","PI","sinB","sin","cosB","cos","y","z","scaleX","scaleY","scaleZ","module","exports","asyncGeneratorStep","gen","_next","_throw","key","then","_asyncToGenerator","fn","self","this","p","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","g","Function","hadRuntime","regeneratorRuntime","getOwnPropertyNames","indexOf","oldRuntime","global","Op","prototype","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","wrap","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","call","Gp","GeneratorFunctionPrototype","Generator","create","GeneratorFunction","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","__await","defineIteratorMethods","AsyncIterator","async","innerFn","outerFn","tryLocsList","iter","object","reverse","pop","Context","reset","skipTempReset","prev","sent","_sent","delegate","method","tryEntries","forEach","resetTryEntry","charAt","isNaN","stop","rootRecord","completion","rval","dispatchException","exception","handle","loc","caught","record","i","entry","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","Error","abrupt","finallyEntry","complete","afterLoc","finish","catch","thrown","delegateYield","iterable","resultName","nextLoc","protoGenerator","generator","_invoke","state","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","makeInvokeMethod","previousPromise","callInvokeWithMethodAndArg","invoke","unwrapped","TypeError","pushTryEntry","locs","iteratorMethod","Demo02","ref","useRef","useEffect","current","VSHADER_SOURCE","_templateObject","FSHADER_SOURCE","_templateObject2","a_Position","a_TexCoor","vertexList","FSIZE","BYTES_PER_ELEMENT","buffer","STATIC_DRAW","enableVertexAttribArray","initTexture","unit","u_Sampler","texture","createTexture","concat","TEXTURE_MIN_FILTER","LINEAR","RGBA","UNSIGNED_BYTE","uniform1i","_ref","D_Users_yj_gu_Documents_code_GitHub_learn_webgl_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","D_Users_yj_gu_Documents_code_GitHub_learn_webgl_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","_callee","imageSrcList","_ref2","_ref3","skyImage","circleImage","u_Sampler0","u_Sampler1","_context","skyImageSrc","circleImageSrc","D_Users_yj_gu_Documents_code_GitHub_learn_webgl_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","getUniformLocation","TRIANGLE_STRIP","render","react__WEBPACK_IMPORTED_MODULE_4___default","createElement"],"mappings":"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","file":"static/js/6.ad7bdfbd.chunk.js","sourcesContent":["/*\r\n * Copyright 2010, Google Inc.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are\r\n * met:\r\n *\r\n *     * Redistributions of source code must retain the above copyright\r\n * notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above\r\n * copyright notice, this list of conditions and the following disclaimer\r\n * in the documentation and/or other materials provided with the\r\n * distribution.\r\n *     * Neither the name of Google Inc. nor the names of its\r\n * contributors may be used to endorse or promote products derived from\r\n * this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\n/**\r\n * @fileoverview This file contains functions every webgl program will need\r\n * a version of one way or another.\r\n *\r\n * Instead of setting up a context manually it is recommended to\r\n * use. This will check for success or failure. On failure it\r\n * will attempt to present an approriate message to the user.\r\n *\r\n *       gl = WebGLUtils.setupWebGL(canvas);\r\n *\r\n * For animated WebGL apps use of setTimeout or setInterval are\r\n * discouraged. It is recommended you structure your rendering\r\n * loop like this.\r\n *\r\n *       function render() {\r\n *         window.requestAnimationFrame(render, canvas);\r\n *\r\n *         // do rendering\r\n *         ...\r\n *       }\r\n *       render();\r\n *\r\n * This will call your rendering function up to the refresh rate\r\n * of your display but will stop rendering if your app is not\r\n * visible.\r\n */\r\n\r\nexport const WebGLUtils = (function() {\r\n  /**\r\n   * Creates the HTLM for a failure message\r\n   * @param {string} canvasContainerId id of container of th\r\n   *        canvas.\r\n   * @return {string} The html.\r\n   */\r\n  var makeFailHTML = function(msg) {\r\n    return (\r\n      '' +\r\n      '<div style=\"margin: auto; width:500px;z-index:10000;margin-top:20em;text-align:center;\">' +\r\n      msg +\r\n      '</div>'\r\n    )\r\n    return (\r\n      '' +\r\n      '<table style=\"background-color: #8CE; width: 100%; height: 100%;\"><tr>' +\r\n      '<td align=\"center\">' +\r\n      '<div style=\"display: table-cell; vertical-align: middle;\">' +\r\n      '<div style=\"\">' +\r\n      msg +\r\n      '</div>' +\r\n      '</div>' +\r\n      '</td></tr></table>'\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Mesasge for getting a webgl browser\r\n   * @type {string}\r\n   */\r\n  var GET_A_WEBGL_BROWSER =\r\n    '' +\r\n    'This page requires a browser that supports WebGL.<br/>' +\r\n    '<a href=\"http://get.webgl.org\">Click here to upgrade your browser.</a>'\r\n\r\n  /**\r\n   * Mesasge for need better hardware\r\n   * @type {string}\r\n   */\r\n  var OTHER_PROBLEM =\r\n    '' +\r\n    \"It doesn't appear your computer can support WebGL.<br/>\" +\r\n    '<a href=\"http://get.webgl.org\">Click here for more information.</a>'\r\n\r\n  /**\r\n   * Creates a webgl context. If creation fails it will\r\n   * change the contents of the container of the <canvas>\r\n   * tag to an error message with the correct links for WebGL.\r\n   * @param {Element} canvas. The canvas element to create a\r\n   *     context from.\r\n   * @param {WebGLContextCreationAttirbutes} opt_attribs Any\r\n   *     creation attributes you want to pass in.\r\n   * @param {function:(msg)} opt_onError An function to call\r\n   *     if there is an error during creation.\r\n   * @return {WebGLRenderingContext} The created context.\r\n   */\r\n  var setupWebGL = function(canvas, opt_attribs, opt_onError) {\r\n    function handleCreationError(msg) {\r\n      var container = document.getElementsByTagName('body')[0]\r\n      //var container = canvas.parentNode;\r\n      if (container) {\r\n        var str = window.WebGLRenderingContext\r\n          ? OTHER_PROBLEM\r\n          : GET_A_WEBGL_BROWSER\r\n        if (msg) {\r\n          str += '<br/><br/>Status: ' + msg\r\n        }\r\n        container.innerHTML = makeFailHTML(str)\r\n      }\r\n    }\r\n\r\n    opt_onError = opt_onError || handleCreationError\r\n\r\n    if (canvas.addEventListener) {\r\n      canvas.addEventListener(\r\n        'webglcontextcreationerror',\r\n        function(event) {\r\n          opt_onError(event.statusMessage)\r\n        },\r\n        false\r\n      )\r\n    }\r\n    var context = create3DContext(canvas, opt_attribs)\r\n    if (!context) {\r\n      if (!window.WebGLRenderingContext) {\r\n        opt_onError('')\r\n      } else {\r\n        opt_onError('')\r\n      }\r\n    }\r\n\r\n    return context\r\n  }\r\n\r\n  /**\r\n   * Creates a webgl context.\r\n   * @param {!Canvas} canvas The canvas tag to get context\r\n   *     from. If one is not passed in one will be created.\r\n   * @return {!WebGLContext} The created context.\r\n   */\r\n  var create3DContext = function(canvas, opt_attribs) {\r\n    var names = ['webgl', 'experimental-webgl', 'webkit-3d', 'moz-webgl']\r\n    var context = null\r\n    for (var ii = 0; ii < names.length; ++ii) {\r\n      try {\r\n        context = canvas.getContext(names[ii], opt_attribs)\r\n      } catch (e) {}\r\n      if (context) {\r\n        break\r\n      }\r\n    }\r\n    return context\r\n  }\r\n\r\n  return {\r\n    create3DContext: create3DContext,\r\n    setupWebGL: setupWebGL\r\n  }\r\n})()\r\n\r\n/**\r\n * Provides requestAnimationFrame in a cross browser\r\n * way.\r\n */\r\nif (!window.requestAnimationFrame) {\r\n  window.requestAnimationFrame = (function() {\r\n    return (\r\n      window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      window.msRequestAnimationFrame ||\r\n      function(\r\n        /* function FrameRequestCallback */ callback,\r\n        /* DOMElement Element */ element\r\n      ) {\r\n        window.setTimeout(callback, 1000 / 60)\r\n      }\r\n    )\r\n  })()\r\n}\r\n\r\n/** * ERRATA: 'cancelRequestAnimationFrame' renamed to 'cancelAnimationFrame' to reflect an update to the W3C Animation-Timing Spec.\r\n *\r\n * Cancels an animation frame request.\r\n * Checks for cross-browser support, falls back to clearTimeout.\r\n * @param {number}  Animation frame request. */\r\nif (!window.cancelAnimationFrame) {\r\n  window.cancelAnimationFrame =\r\n    window.cancelRequestAnimationFrame ||\r\n    window.webkitCancelAnimationFrame ||\r\n    window.webkitCancelRequestAnimationFrame ||\r\n    window.mozCancelAnimationFrame ||\r\n    window.mozCancelRequestAnimationFrame ||\r\n    window.msCancelAnimationFrame ||\r\n    window.msCancelRequestAnimationFrame ||\r\n    window.oCancelAnimationFrame ||\r\n    window.oCancelRequestAnimationFrame ||\r\n    window.clearTimeout\r\n}\r\n","//Copyright (c) 2009 The Chromium Authors. All rights reserved.\r\n//Use of this source code is governed by a BSD-style license that can be\r\n//found in the LICENSE file.\r\n\r\n// Various functions for helping debug WebGL apps.\r\n\r\nexport const WebGLDebugUtils = function() {\r\n\r\n/**\r\n * Wrapped logging function.\r\n * @param {string} msg Message to log.\r\n */\r\nvar log = function(msg) {\r\n  if (window.console && window.console.log) {\r\n    window.console.log(msg);\r\n  }\r\n};\r\n\r\n/**\r\n * Which arguements are enums.\r\n * @type {!Object.<number, string>}\r\n */\r\nvar glValidEnumContexts = {\r\n\r\n  // Generic setters and getters\r\n\r\n  'enable': { 0:true },\r\n  'disable': { 0:true },\r\n  'getParameter': { 0:true },\r\n\r\n  // Rendering\r\n\r\n  'drawArrays': { 0:true },\r\n  'drawElements': { 0:true, 2:true },\r\n\r\n  // Shaders\r\n\r\n  'createShader': { 0:true },\r\n  'getShaderParameter': { 1:true },\r\n  'getProgramParameter': { 1:true },\r\n\r\n  // Vertex attributes\r\n\r\n  'getVertexAttrib': { 1:true },\r\n  'vertexAttribPointer': { 2:true },\r\n\r\n  // Textures\r\n\r\n  'bindTexture': { 0:true },\r\n  'activeTexture': { 0:true },\r\n  'getTexParameter': { 0:true, 1:true },\r\n  'texParameterf': { 0:true, 1:true },\r\n  'texParameteri': { 0:true, 1:true, 2:true },\r\n  'texImage2D': { 0:true, 2:true, 6:true, 7:true },\r\n  'texSubImage2D': { 0:true, 6:true, 7:true },\r\n  'copyTexImage2D': { 0:true, 2:true },\r\n  'copyTexSubImage2D': { 0:true },\r\n  'generateMipmap': { 0:true },\r\n\r\n  // Buffer objects\r\n\r\n  'bindBuffer': { 0:true },\r\n  'bufferData': { 0:true, 2:true },\r\n  'bufferSubData': { 0:true },\r\n  'getBufferParameter': { 0:true, 1:true },\r\n\r\n  // Renderbuffers and framebuffers\r\n\r\n  'pixelStorei': { 0:true, 1:true },\r\n  'readPixels': { 4:true, 5:true },\r\n  'bindRenderbuffer': { 0:true },\r\n  'bindFramebuffer': { 0:true },\r\n  'checkFramebufferStatus': { 0:true },\r\n  'framebufferRenderbuffer': { 0:true, 1:true, 2:true },\r\n  'framebufferTexture2D': { 0:true, 1:true, 2:true },\r\n  'getFramebufferAttachmentParameter': { 0:true, 1:true, 2:true },\r\n  'getRenderbufferParameter': { 0:true, 1:true },\r\n  'renderbufferStorage': { 0:true, 1:true },\r\n\r\n  // Frame buffer operations (clear, blend, depth test, stencil)\r\n\r\n  'clear': { 0:true },\r\n  'depthFunc': { 0:true },\r\n  'blendFunc': { 0:true, 1:true },\r\n  'blendFuncSeparate': { 0:true, 1:true, 2:true, 3:true },\r\n  'blendEquation': { 0:true },\r\n  'blendEquationSeparate': { 0:true, 1:true },\r\n  'stencilFunc': { 0:true },\r\n  'stencilFuncSeparate': { 0:true, 1:true },\r\n  'stencilMaskSeparate': { 0:true },\r\n  'stencilOp': { 0:true, 1:true, 2:true },\r\n  'stencilOpSeparate': { 0:true, 1:true, 2:true, 3:true },\r\n\r\n  // Culling\r\n\r\n  'cullFace': { 0:true },\r\n  'frontFace': { 0:true },\r\n};\r\n\r\n/**\r\n * Map of numbers to names.\r\n * @type {Object}\r\n */\r\nvar glEnums = null;\r\n\r\n/**\r\n * Initializes this module. Safe to call more than once.\r\n * @param {!WebGLRenderingContext} ctx A WebGL context. If\r\n *    you have more than one context it doesn't matter which one\r\n *    you pass in, it is only used to pull out constants.\r\n */\r\nfunction init(ctx) {\r\n  if (glEnums == null) {\r\n    glEnums = { };\r\n    for (var propertyName in ctx) {\r\n      if (typeof ctx[propertyName] == 'number') {\r\n        glEnums[ctx[propertyName]] = propertyName;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Checks the utils have been initialized.\r\n */\r\nfunction checkInit() {\r\n  if (glEnums == null) {\r\n    throw 'WebGLDebugUtils.init(ctx) not called';\r\n  }\r\n}\r\n\r\n/**\r\n * Returns true or false if value matches any WebGL enum\r\n * @param {*} value Value to check if it might be an enum.\r\n * @return {boolean} True if value matches one of the WebGL defined enums\r\n */\r\nfunction mightBeEnum(value) {\r\n  checkInit();\r\n  return (glEnums[value] !== undefined);\r\n}\r\n\r\n/**\r\n * Gets an string version of an WebGL enum.\r\n *\r\n * Example:\r\n *   var str = WebGLDebugUtil.glEnumToString(ctx.getError());\r\n *\r\n * @param {number} value Value to return an enum for\r\n * @return {string} The string version of the enum.\r\n */\r\nfunction glEnumToString(value) {\r\n  checkInit();\r\n  var name = glEnums[value];\r\n  return (name !== undefined) ? name :\r\n      (\"*UNKNOWN WebGL ENUM (0x\" + value.toString(16) + \")\");\r\n}\r\n\r\n/**\r\n * Returns the string version of a WebGL argument.\r\n * Attempts to convert enum arguments to strings.\r\n * @param {string} functionName the name of the WebGL function.\r\n * @param {number} argumentIndx the index of the argument.\r\n * @param {*} value The value of the argument.\r\n * @return {string} The value as a string.\r\n */\r\nfunction glFunctionArgToString(functionName, argumentIndex, value) {\r\n  var funcInfo = glValidEnumContexts[functionName];\r\n  if (funcInfo !== undefined) {\r\n    if (funcInfo[argumentIndex]) {\r\n      return glEnumToString(value);\r\n    }\r\n  }\r\n  return value.toString();\r\n}\r\n\r\n/**\r\n * Given a WebGL context returns a wrapped context that calls\r\n * gl.getError after every command and calls a function if the\r\n * result is not gl.NO_ERROR.\r\n *\r\n * @param {!WebGLRenderingContext} ctx The webgl context to\r\n *        wrap.\r\n * @param {!function(err, funcName, args): void} opt_onErrorFunc\r\n *        The function to call when gl.getError returns an\r\n *        error. If not specified the default function calls\r\n *        console.log with a message.\r\n */\r\nfunction makeDebugContext(ctx, opt_onErrorFunc) {\r\n  init(ctx);\r\n  opt_onErrorFunc = opt_onErrorFunc || function(err, functionName, args) {\r\n        // apparently we can't do args.join(\",\");\r\n        var argStr = \"\";\r\n        for (var ii = 0; ii < args.length; ++ii) {\r\n          argStr += ((ii == 0) ? '' : ', ') +\r\n              glFunctionArgToString(functionName, ii, args[ii]);\r\n        }\r\n        log(\"WebGL error \"+ glEnumToString(err) + \" in \"+ functionName +\r\n            \"(\" + argStr + \")\");\r\n      };\r\n\r\n  // Holds booleans for each GL error so after we get the error ourselves\r\n  // we can still return it to the client app.\r\n  var glErrorShadow = { };\r\n\r\n  // Makes a function that calls a WebGL function and then calls getError.\r\n  function makeErrorWrapper(ctx, functionName) {\r\n    return function() {\r\n      var result = ctx[functionName].apply(ctx, arguments);\r\n      var err = ctx.getError();\r\n      if (err != 0) {\r\n        glErrorShadow[err] = true;\r\n        opt_onErrorFunc(err, functionName, arguments);\r\n      }\r\n      return result;\r\n    };\r\n  }\r\n\r\n  // Make a an object that has a copy of every property of the WebGL context\r\n  // but wraps all functions.\r\n  var wrapper = {};\r\n  for (var propertyName in ctx) {\r\n    if (typeof ctx[propertyName] == 'function') {\r\n       wrapper[propertyName] = makeErrorWrapper(ctx, propertyName);\r\n     } else {\r\n       wrapper[propertyName] = ctx[propertyName];\r\n     }\r\n  }\r\n\r\n  // Override the getError function with one that returns our saved results.\r\n  wrapper.getError = function() {\r\n    for (var err in glErrorShadow) {\r\n      if (glErrorShadow[err]) {\r\n        glErrorShadow[err] = false;\r\n        return err;\r\n      }\r\n    }\r\n    return ctx.NO_ERROR;\r\n  };\r\n\r\n  return wrapper;\r\n}\r\n\r\nfunction resetToInitialState(ctx) {\r\n  var numAttribs = ctx.getParameter(ctx.MAX_VERTEX_ATTRIBS);\r\n  var tmp = ctx.createBuffer();\r\n  ctx.bindBuffer(ctx.ARRAY_BUFFER, tmp);\r\n  for (var ii = 0; ii < numAttribs; ++ii) {\r\n    ctx.disableVertexAttribArray(ii);\r\n    ctx.vertexAttribPointer(ii, 4, ctx.FLOAT, false, 0, 0);\r\n    ctx.vertexAttrib1f(ii, 0);\r\n  }\r\n  ctx.deleteBuffer(tmp);\r\n\r\n  var numTextureUnits = ctx.getParameter(ctx.MAX_TEXTURE_IMAGE_UNITS);\r\n  for (var ii = 0; ii < numTextureUnits; ++ii) {\r\n    ctx.activeTexture(ctx.TEXTURE0 + ii);\r\n    ctx.bindTexture(ctx.TEXTURE_CUBE_MAP, null);\r\n    ctx.bindTexture(ctx.TEXTURE_2D, null);\r\n  }\r\n\r\n  ctx.activeTexture(ctx.TEXTURE0);\r\n  ctx.useProgram(null);\r\n  ctx.bindBuffer(ctx.ARRAY_BUFFER, null);\r\n  ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, null);\r\n  ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\r\n  ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\r\n  ctx.disable(ctx.BLEND);\r\n  ctx.disable(ctx.CULL_FACE);\r\n  ctx.disable(ctx.DEPTH_TEST);\r\n  ctx.disable(ctx.DITHER);\r\n  ctx.disable(ctx.SCISSOR_TEST);\r\n  ctx.blendColor(0, 0, 0, 0);\r\n  ctx.blendEquation(ctx.FUNC_ADD);\r\n  ctx.blendFunc(ctx.ONE, ctx.ZERO);\r\n  ctx.clearColor(0, 0, 0, 0);\r\n  ctx.clearDepth(1);\r\n  ctx.clearStencil(-1);\r\n  ctx.colorMask(true, true, true, true);\r\n  ctx.cullFace(ctx.BACK);\r\n  ctx.depthFunc(ctx.LESS);\r\n  ctx.depthMask(true);\r\n  ctx.depthRange(0, 1);\r\n  ctx.frontFace(ctx.CCW);\r\n  ctx.hint(ctx.GENERATE_MIPMAP_HINT, ctx.DONT_CARE);\r\n  ctx.lineWidth(1);\r\n  ctx.pixelStorei(ctx.PACK_ALIGNMENT, 4);\r\n  ctx.pixelStorei(ctx.UNPACK_ALIGNMENT, 4);\r\n  ctx.pixelStorei(ctx.UNPACK_FLIP_Y_WEBGL, false);\r\n  ctx.pixelStorei(ctx.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n  // TODO: Delete this IF.\r\n  if (ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL) {\r\n    ctx.pixelStorei(ctx.UNPACK_COLORSPACE_CONVERSION_WEBGL, ctx.BROWSER_DEFAULT_WEBGL);\r\n  }\r\n  ctx.polygonOffset(0, 0);\r\n  ctx.sampleCoverage(1, false);\r\n  ctx.scissor(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n  ctx.stencilFunc(ctx.ALWAYS, 0, 0xFFFFFFFF);\r\n  ctx.stencilMask(0xFFFFFFFF);\r\n  ctx.stencilOp(ctx.KEEP, ctx.KEEP, ctx.KEEP);\r\n  ctx.viewport(0, 0, ctx.canvas.clientWidth, ctx.canvas.clientHeight);\r\n  ctx.clear(ctx.COLOR_BUFFER_BIT | ctx.DEPTH_BUFFER_BIT | ctx.STENCIL_BUFFER_BIT);\r\n\r\n  // TODO: This should NOT be needed but Firefox fails with 'hint'\r\n  while(ctx.getError());\r\n}\r\n\r\nfunction makeLostContextSimulatingContext(ctx) {\r\n  var wrapper_ = {};\r\n  var contextId_ = 1;\r\n  var contextLost_ = false;\r\n  var resourceId_ = 0;\r\n  var resourceDb_ = [];\r\n  var onLost_ = undefined;\r\n  var onRestored_ = undefined;\r\n  var nextOnRestored_ = undefined;\r\n\r\n  // Holds booleans for each GL error so can simulate errors.\r\n  var glErrorShadow_ = { };\r\n\r\n  function isWebGLObject(obj) {\r\n    //return false;\r\n    return (obj instanceof WebGLBuffer ||\r\n            obj instanceof WebGLFramebuffer ||\r\n            obj instanceof WebGLProgram ||\r\n            obj instanceof WebGLRenderbuffer ||\r\n            obj instanceof WebGLShader ||\r\n            obj instanceof WebGLTexture);\r\n  }\r\n\r\n  function checkResources(args) {\r\n    for (var ii = 0; ii < args.length; ++ii) {\r\n      var arg = args[ii];\r\n      if (isWebGLObject(arg)) {\r\n        return arg.__webglDebugContextLostId__ == contextId_;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clearErrors() {\r\n    var k = Object.keys(glErrorShadow_);\r\n    for (var ii = 0; ii < k.length; ++ii) {\r\n      // delete glErrorShdow_[k];\r\n    }\r\n  }\r\n\r\n  // Makes a function that simulates WebGL when out of context.\r\n  function makeLostContextWrapper(ctx, functionName) {\r\n    var f = ctx[functionName];\r\n    return function() {\r\n      // Only call the functions if the context is not lost.\r\n      if (!contextLost_) {\r\n        if (!checkResources(arguments)) {\r\n          glErrorShadow_[ctx.INVALID_OPERATION] = true;\r\n          return;\r\n        }\r\n        var result = f.apply(ctx, arguments);\r\n        return result;\r\n      }\r\n    };\r\n  }\r\n\r\n  for (var propertyName in ctx) {\r\n    if (typeof ctx[propertyName] == 'function') {\r\n       wrapper_[propertyName] = makeLostContextWrapper(ctx, propertyName);\r\n     } else {\r\n       wrapper_[propertyName] = ctx[propertyName];\r\n     }\r\n  }\r\n\r\n  function makeWebGLContextEvent(statusMessage) {\r\n    return {statusMessage: statusMessage};\r\n  }\r\n\r\n  function freeResources() {\r\n    for (var ii = 0; ii < resourceDb_.length; ++ii) {\r\n      var resource = resourceDb_[ii];\r\n      if (resource instanceof WebGLBuffer) {\r\n        ctx.deleteBuffer(resource);\r\n      } else if (resource instanceof WebGLFramebuffer) {\r\n        ctx.deleteFramebuffer(resource);\r\n      } else if (resource instanceof WebGLProgram) {\r\n        ctx.deleteProgram(resource);\r\n      } else if (resource instanceof WebGLRenderbuffer) {\r\n        ctx.deleteRenderbuffer(resource);\r\n      } else if (resource instanceof WebGLShader) {\r\n        ctx.deleteShader(resource);\r\n      } else if (resource instanceof WebGLTexture) {\r\n        ctx.deleteTexture(resource);\r\n      }\r\n    }\r\n  }\r\n\r\n  wrapper_.loseContext = function() {\r\n    if (!contextLost_) {\r\n      contextLost_ = true;\r\n      ++contextId_;\r\n      while (ctx.getError());\r\n      clearErrors();\r\n      glErrorShadow_[ctx.CONTEXT_LOST_WEBGL] = true;\r\n      setTimeout(function() {\r\n          if (onLost_) {\r\n            onLost_(makeWebGLContextEvent(\"context lost\"));\r\n          }\r\n        }, 0);\r\n    }\r\n  };\r\n\r\n  wrapper_.restoreContext = function() {\r\n    if (contextLost_) {\r\n      if (onRestored_) {\r\n        setTimeout(function() {\r\n            freeResources();\r\n            resetToInitialState(ctx);\r\n            contextLost_ = false;\r\n            if (onRestored_) {\r\n              var callback = onRestored_;\r\n              onRestored_ = nextOnRestored_;\r\n              nextOnRestored_ = undefined;\r\n              callback(makeWebGLContextEvent(\"context restored\"));\r\n            }\r\n          }, 0);\r\n      } else {\r\n        throw \"You can not restore the context without a listener\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Wrap a few functions specially.\r\n  wrapper_.getError = function() {\r\n    if (!contextLost_) {\r\n      var err;\r\n      while (err = ctx.getError()) {\r\n        glErrorShadow_[err] = true;\r\n      }\r\n    }\r\n    for (var err in glErrorShadow_) {\r\n      if (glErrorShadow_[err]) {\r\n        delete glErrorShadow_[err];\r\n        return err;\r\n      }\r\n    }\r\n    return ctx.NO_ERROR;\r\n  };\r\n\r\n  var creationFunctions = [\r\n    \"createBuffer\",\r\n    \"createFramebuffer\",\r\n    \"createProgram\",\r\n    \"createRenderbuffer\",\r\n    \"createShader\",\r\n    \"createTexture\"\r\n  ];\r\n  for (var ii = 0; ii < creationFunctions.length; ++ii) {\r\n    var functionName = creationFunctions[ii];\r\n    wrapper_[functionName] = function(f) {\r\n      return function() {\r\n        if (contextLost_) {\r\n          return null;\r\n        }\r\n        var obj = f.apply(ctx, arguments);\r\n        obj.__webglDebugContextLostId__ = contextId_;\r\n        resourceDb_.push(obj);\r\n        return obj;\r\n      };\r\n    }(ctx[functionName]);\r\n  }\r\n\r\n  var functionsThatShouldReturnNull = [\r\n    \"getActiveAttrib\",\r\n    \"getActiveUniform\",\r\n    \"getBufferParameter\",\r\n    \"getContextAttributes\",\r\n    \"getAttachedShaders\",\r\n    \"getFramebufferAttachmentParameter\",\r\n    \"getParameter\",\r\n    \"getProgramParameter\",\r\n    \"getProgramInfoLog\",\r\n    \"getRenderbufferParameter\",\r\n    \"getShaderParameter\",\r\n    \"getShaderInfoLog\",\r\n    \"getShaderSource\",\r\n    \"getTexParameter\",\r\n    \"getUniform\",\r\n    \"getUniformLocation\",\r\n    \"getVertexAttrib\"\r\n  ];\r\n  for (var ii = 0; ii < functionsThatShouldReturnNull.length; ++ii) {\r\n    var functionName = functionsThatShouldReturnNull[ii];\r\n    wrapper_[functionName] = function(f) {\r\n      return function() {\r\n        if (contextLost_) {\r\n          return null;\r\n        }\r\n        return f.apply(ctx, arguments);\r\n      }\r\n    }(wrapper_[functionName]);\r\n  }\r\n\r\n  var isFunctions = [\r\n    \"isBuffer\",\r\n    \"isEnabled\",\r\n    \"isFramebuffer\",\r\n    \"isProgram\",\r\n    \"isRenderbuffer\",\r\n    \"isShader\",\r\n    \"isTexture\"\r\n  ];\r\n  for (var ii = 0; ii < isFunctions.length; ++ii) {\r\n    var functionName = isFunctions[ii];\r\n    wrapper_[functionName] = function(f) {\r\n      return function() {\r\n        if (contextLost_) {\r\n          return false;\r\n        }\r\n        return f.apply(ctx, arguments);\r\n      }\r\n    }(wrapper_[functionName]);\r\n  }\r\n\r\n  wrapper_.checkFramebufferStatus = function(f) {\r\n    return function() {\r\n      if (contextLost_) {\r\n        return ctx.FRAMEBUFFER_UNSUPPORTED;\r\n      }\r\n      return f.apply(ctx, arguments);\r\n    };\r\n  }(wrapper_.checkFramebufferStatus);\r\n\r\n  wrapper_.getAttribLocation = function(f) {\r\n    return function() {\r\n      if (contextLost_) {\r\n        return -1;\r\n      }\r\n      return f.apply(ctx, arguments);\r\n    };\r\n  }(wrapper_.getAttribLocation);\r\n\r\n  wrapper_.getVertexAttribOffset = function(f) {\r\n    return function() {\r\n      if (contextLost_) {\r\n        return 0;\r\n      }\r\n      return f.apply(ctx, arguments);\r\n    };\r\n  }(wrapper_.getVertexAttribOffset);\r\n\r\n  wrapper_.isContextLost = function() {\r\n    return contextLost_;\r\n  };\r\n\r\n  function wrapEvent(listener) {\r\n    if (typeof(listener) == \"function\") {\r\n      return listener;\r\n    } else {\r\n      return function(info) {\r\n        listener.handleEvent(info);\r\n      }\r\n    }\r\n  }\r\n\r\n  wrapper_.registerOnContextLostListener = function(listener) {\r\n    onLost_ = wrapEvent(listener);\r\n  };\r\n\r\n  wrapper_.registerOnContextRestoredListener = function(listener) {\r\n    if (contextLost_) {\r\n      nextOnRestored_ = wrapEvent(listener);\r\n    } else {\r\n      onRestored_ = wrapEvent(listener);\r\n    }\r\n  }\r\n\r\n  return wrapper_;\r\n}\r\n\r\nreturn {\r\n  /**\r\n   * Initializes this module. Safe to call more than once.\r\n   * @param {!WebGLRenderingContext} ctx A WebGL context. If\r\n   *    you have more than one context it doesn't matter which one\r\n   *    you pass in, it is only used to pull out constants.\r\n   */\r\n  'init': init,\r\n\r\n  /**\r\n   * Returns true or false if value matches any WebGL enum\r\n   * @param {*} value Value to check if it might be an enum.\r\n   * @return {boolean} True if value matches one of the WebGL defined enums\r\n   */\r\n  'mightBeEnum': mightBeEnum,\r\n\r\n  /**\r\n   * Gets an string version of an WebGL enum.\r\n   *\r\n   * Example:\r\n   *   WebGLDebugUtil.init(ctx);\r\n   *   var str = WebGLDebugUtil.glEnumToString(ctx.getError());\r\n   *\r\n   * @param {number} value Value to return an enum for\r\n   * @return {string} The string version of the enum.\r\n   */\r\n  'glEnumToString': glEnumToString,\r\n\r\n  /**\r\n   * Converts the argument of a WebGL function to a string.\r\n   * Attempts to convert enum arguments to strings.\r\n   *\r\n   * Example:\r\n   *   WebGLDebugUtil.init(ctx);\r\n   *   var str = WebGLDebugUtil.glFunctionArgToString('bindTexture', 0, gl.TEXTURE_2D);\r\n   *\r\n   * would return 'TEXTURE_2D'\r\n   *\r\n   * @param {string} functionName the name of the WebGL function.\r\n   * @param {number} argumentIndx the index of the argument.\r\n   * @param {*} value The value of the argument.\r\n   * @return {string} The value as a string.\r\n   */\r\n  'glFunctionArgToString': glFunctionArgToString,\r\n\r\n  /**\r\n   * Given a WebGL context returns a wrapped context that calls\r\n   * gl.getError after every command and calls a function if the\r\n   * result is not NO_ERROR.\r\n   *\r\n   * You can supply your own function if you want. For example, if you'd like\r\n   * an exception thrown on any GL error you could do this\r\n   *\r\n   *    function throwOnGLError(err, funcName, args) {\r\n   *      throw WebGLDebugUtils.glEnumToString(err) + \" was caused by call to\" +\r\n   *            funcName;\r\n   *    };\r\n   *\r\n   *    ctx = WebGLDebugUtils.makeDebugContext(\r\n   *        canvas.getContext(\"webgl\"), throwOnGLError);\r\n   *\r\n   * @param {!WebGLRenderingContext} ctx The webgl context to wrap.\r\n   * @param {!function(err, funcName, args): void} opt_onErrorFunc The function\r\n   *     to call when gl.getError returns an error. If not specified the default\r\n   *     function calls console.log with a message.\r\n   */\r\n  'makeDebugContext': makeDebugContext,\r\n\r\n  /**\r\n   * Given a WebGL context returns a wrapped context that adds 4\r\n   * functions.\r\n   *\r\n   * ctx.loseContext:\r\n   *   simulates a lost context event.\r\n   *\r\n   * ctx.restoreContext:\r\n   *   simulates the context being restored.\r\n   *\r\n   * ctx.registerOnContextLostListener(listener):\r\n   *   lets you register a listener for context lost. Use instead\r\n   *   of addEventListener('webglcontextlostevent', listener);\r\n   *\r\n   * ctx.registerOnContextRestoredListener(listener):\r\n   *   lets you register a listener for context restored. Use\r\n   *   instead of addEventListener('webglcontextrestored',\r\n   *   listener);\r\n   *\r\n   * @param {!WebGLRenderingContext} ctx The webgl context to wrap.\r\n   */\r\n  'makeLostContextSimulatingContext': makeLostContextSimulatingContext,\r\n\r\n  /**\r\n   * Resets a context to the initial state.\r\n   * @param {!WebGLRenderingContext} ctx The webgl context to\r\n   *     reset.\r\n   */\r\n  'resetToInitialState': resetToInitialState\r\n};\r\n\r\n}();\r\n\r\n","import { WebGLUtils } from './webgl-utils'\r\nimport { WebGLDebugUtils } from './webgl-debug'\r\n\r\n// cuon-utils.js (c) 2012 kanda and matsuda\r\n/**\r\n * Create a program object and make current\r\n * @param gl GL context\r\n * @param vshader a vertex shader program (string)\r\n * @param fshader a fragment shader program (string)\r\n * @return true, if the program object was created and successfully made current \r\n */\r\nexport function initShaders(gl, vshader, fshader) {\r\n  var program = createProgram(gl, vshader, fshader);\r\n  if (!program) {\r\n    console.log('Failed to create program');\r\n    return false;\r\n  }\r\n\r\n  gl.useProgram(program);\r\n  gl.program = program;\r\n\r\n  return true;\r\n}\r\n\r\n/**\r\n * Create the linked program object\r\n * @param gl GL context\r\n * @param vshader a vertex shader program (string)\r\n * @param fshader a fragment shader program (string)\r\n * @return created program object, or null if the creation has failed\r\n */\r\nexport function createProgram(gl, vshader, fshader) {\r\n  // Create shader object\r\n  var vertexShader = loadShader(gl, gl.VERTEX_SHADER, vshader);\r\n  var fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fshader);\r\n  if (!vertexShader || !fragmentShader) {\r\n    return null;\r\n  }\r\n\r\n  // Create a program object\r\n  var program = gl.createProgram();\r\n  if (!program) {\r\n    return null;\r\n  }\r\n\r\n  // Attach the shader objects\r\n  gl.attachShader(program, vertexShader);\r\n  gl.attachShader(program, fragmentShader);\r\n\r\n  // Link the program object\r\n  gl.linkProgram(program);\r\n\r\n  // Check the result of linking\r\n  var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n  if (!linked) {\r\n    var error = gl.getProgramInfoLog(program);\r\n    console.log('Failed to link program: ' + error);\r\n    gl.deleteProgram(program);\r\n    gl.deleteShader(fragmentShader);\r\n    gl.deleteShader(vertexShader);\r\n    return null;\r\n  }\r\n  return program;\r\n}\r\n\r\n/**\r\n * Create a shader object\r\n * @param gl GL context\r\n * @param type the type of the shader object to be created\r\n * @param source shader program (string)\r\n * @return created shader object, or null if the creation has failed.\r\n */\r\nexport function loadShader(gl, type, source) {\r\n  // Create shader object\r\n  var shader = gl.createShader(type);\r\n  if (shader == null) {\r\n    console.log('unable to create shader');\r\n    return null;\r\n  }\r\n\r\n  // Set the shader program\r\n  gl.shaderSource(shader, source);\r\n\r\n  // Compile the shader\r\n  gl.compileShader(shader);\r\n\r\n  // Check the result of compilation\r\n  var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n  if (!compiled) {\r\n    var error = gl.getShaderInfoLog(shader);\r\n    console.log('Failed to compile shader: ' + error);\r\n    gl.deleteShader(shader);\r\n    return null;\r\n  }\r\n\r\n  return shader;\r\n}\r\n\r\n/** \r\n * Initialize and get the rendering for WebGL\r\n * @param canvas <cavnas> element\r\n * @param opt_debug flag to initialize the context for debugging\r\n * @return the rendering context for WebGL\r\n */\r\nexport function getWebGLContext(canvas, opt_debug) {\r\n  // Get the rendering context for WebGL\r\n  var gl = WebGLUtils.setupWebGL(canvas);\r\n  if (!gl) return null;\r\n\r\n  // if opt_debug is explicitly false, create the context for debugging\r\n  if (arguments.length < 2 || opt_debug) {\r\n    gl = WebGLDebugUtils.makeDebugContext(gl);\r\n  }\r\n\r\n  return gl;\r\n}\r\n","export const glsl = x => x\r\n\r\nexport const loadImage = src => {\r\n  return new Promise((resolve, reject) => {\r\n    let image = new Image()\r\n    image.onload = () => resolve(image)\r\n    image.onerror = error => reject(error)\r\n    image.src = src\r\n  })\r\n}\r\n\r\nexport const loadImageList = (list = []) => {\r\n  return Promise.all(list.map(loadImage))\r\n}\r\n\r\nexport const getX = (rect, clientX) => {\r\n  return (clientX - rect.left - rect.width / 2) / (rect.width / 2)\r\n}\r\n\r\nexport const getY = (rect, clientY) => {\r\n  return (rect.height / 2 - (clientY - rect.top)) / (rect.height / 2)\r\n}\r\n\r\nexport const getPosition = (canvas, event) => {\r\n  let rect = canvas.getBoundingClientRect()\r\n  return [getX(rect, event.clientX), getY(rect, event.clientY)]\r\n}\r\n\r\nexport const createVertexList = (list = []) => {\r\n  return new Float32Array(list.flat(Infinity))\r\n}\r\n\r\n/**\r\n * [\r\n *    [1, 2, 3, 4],\r\n *    [5, 6, 7, 8],\r\n *    [9, 10, 11, 12],\r\n *    [13, 14, 15, 16]\r\n * ]\r\n */\r\nexport const createMatrix = sourceList => {\r\n  let data = [[], [], [], []]\r\n\r\n  for (let array of sourceList) {\r\n    data[0].push(array[0])\r\n    data[1].push(array[1])\r\n    data[2].push(array[2])\r\n    data[3].push(array[3])\r\n  }\r\n\r\n  return new Float32Array(data.flat())\r\n}\r\n\r\nexport const createRotateZMatrix = (angle = 0) => {\r\n  let radian = (angle * Math.PI) / 180\r\n  let sinB = Math.sin(radian)\r\n  let cosB = Math.cos(radian)\r\n\r\n  return createMatrix([\r\n    [cosB, -sinB, 0.0, 0.0],\r\n    [sinB, cosB, 0.0, 0.0],\r\n    [0.0, 0.0, 1.0, 0.0],\r\n    [0.0, 0.0, 0.0, 1.0]\r\n  ])\r\n}\r\n\r\nexport const createTranslateMatrix = (x = 0, y = 0, z = 0) => {\r\n  return createMatrix([\r\n    [1.0, 0.0, 0.0, x],\r\n    [0.0, 1.0, 0.0, y],\r\n    [0.0, 0.0, 1.0, z],\r\n    [0.0, 0.0, 0.0, 1.0]\r\n  ])\r\n}\r\n\r\nexport const createScaleMatrix = (scaleX = 1, scaleY = 1, scaleZ = 1) => {\r\n  return createMatrix([\r\n    [scaleX, 0.0, 0.0, 0],\r\n    [0, scaleY, 0, 0],\r\n    [0, 0, scaleZ, 0],\r\n    [0, 0, 0, 1]\r\n  ])\r\n}\r\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","module.exports = __webpack_public_path__ + \"static/media/sky.2b11efd6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/circle.def06678.gif\";","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = function () {\n  return this || typeof self === \"object\" && self;\n}() || Function(\"return this\")(); // Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\n\n\nvar hadRuntime = g.regeneratorRuntime && Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0; // Save the old regeneratorRuntime in case it needs to be restored later.\n\nvar oldRuntime = hadRuntime && g.regeneratorRuntime; // Force reevalutation of runtime.js.\n\ng.regeneratorRuntime = undefined;\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch (e) {\n    g.regeneratorRuntime = undefined;\n  }\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n!function (global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    } // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n\n\n    return;\n  } // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n\n\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n    return generator;\n  }\n\n  runtime.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n\n  var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n\n\n  var IteratorPrototype = {};\n\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n  if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      prototype[method] = function (arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function (genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n  };\n\n  runtime.mark = function (genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  }; // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n\n\n  runtime.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n\n        if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function (value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function (err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function (unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function (error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n      // invocations of the iterator.\n      callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    } // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n\n\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n\n  runtime.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n\n  runtime.async = function (innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));\n    return runtime.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        } // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n        var record = tryCatch(innerFn, self, context);\n\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted; // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  } // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (!info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n      context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    } // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n\n\n    context.delegate = null;\n    return ContinueSentinel;\n  } // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n\n\n  defineIteratorMethods(Gp);\n  Gp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n  Gp[iteratorSymbol] = function () {\n    return this;\n  };\n\n  Gp.toString = function () {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    keys.reverse(); // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      } // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n\n\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n          return next;\n        };\n\n        return next.next = next;\n      }\n    } // Return an iterator with no values.\n\n\n    return {\n      next: doneResult\n    };\n  }\n\n  runtime.values = values;\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: true\n    };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      this.prev = 0;\n      this.next = 0; // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n      this.method = \"next\";\n      this.arg = undefined;\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n    stop: function stop() {\n      this.done = true;\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" || record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      } // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n}( // In sloppy mode, unbound `this` refers to the global object, fallback to\n// Function constructor if we're in global strict mode. That is sadly a form\n// of indirect eval which violates Content Security Policy.\nfunction () {\n  return this || typeof self === \"object\" && self;\n}() || Function(\"return this\")());","import React, { useEffect, useRef } from 'react'\r\nimport { getWebGLContext, initShaders } from '../lib/cuon-utils'\r\nimport {\r\n  createVertexList,\r\n  createRotateZMatrix,\r\n  createScaleMatrix,\r\n  createTranslateMatrix,\r\n  loadImageList,\r\n  glsl\r\n} from './util'\r\nimport skyImageSrc from './image/sky.jpg'\r\nimport circleImageSrc from './image/circle.gif'\r\n\r\nexport default function Demo02() {\r\n  let ref = useRef()\r\n\r\n  useEffect(() => {\r\n    let canvas = ref.current\r\n    let gl = getWebGLContext(canvas)\r\n\r\n    let VSHADER_SOURCE = glsl`\r\n      attribute vec4 a_Position;\r\n      attribute vec2 a_TexCoor;\r\n      varying vec2 v_TexCoor;\r\n      void main() {\r\n        gl_Position = a_Position;\r\n        v_TexCoor = a_TexCoor;\r\n      }\r\n    `\r\n\r\n    let FSHADER_SOURCE = glsl`\r\n      precision mediump float;\r\n      varying vec2 v_TexCoor;\r\n      uniform sampler2D u_Sampler0;\r\n      uniform sampler2D u_Sampler1;\r\n      void main() {\r\n        vec4 color0 = texture2D(u_Sampler0, v_TexCoor);\r\n        vec4 color1 = texture2D(u_Sampler1, v_TexCoor);\r\n        gl_FragColor = color0 * color1;\r\n      }\r\n    `\r\n\r\n    let isSuccess = initShaders(gl, VSHADER_SOURCE, FSHADER_SOURCE)\r\n\r\n    if (!isSuccess) {\r\n      throw new Error('failed to initilize shaders')\r\n    }\r\n\r\n    let a_Position = gl.getAttribLocation(gl.program, 'a_Position')\r\n    let a_TexCoor = gl.getAttribLocation(gl.program, 'a_TexCoor')\r\n\r\n    let vertexList = createVertexList([\r\n      [[-0.5, 0.5], [0.0, 1.0]],\r\n      [[-0.5, -0.5], [0.0, 0.0]],\r\n      [[0.5, 0.5], [1.0, 1.0]],\r\n      [[0.5, -0.5], [1.0, 0.0]]\r\n    ])\r\n    let FSIZE = vertexList.BYTES_PER_ELEMENT\r\n\r\n    let buffer = gl.createBuffer()\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer)\r\n    gl.bufferData(gl.ARRAY_BUFFER, vertexList, gl.STATIC_DRAW)\r\n\r\n    gl.vertexAttribPointer(a_Position, 2, gl.FLOAT, false, FSIZE * 4, 0)\r\n    gl.enableVertexAttribArray(a_Position)\r\n\r\n    gl.vertexAttribPointer(a_TexCoor, 2, gl.FLOAT, false, FSIZE * 4, FSIZE * 2)\r\n    gl.enableVertexAttribArray(a_TexCoor)\r\n\r\n    let initTexture = (image, unit, u_Sampler) => {\r\n      let texture = gl.createTexture()\r\n\r\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1)\r\n      gl.activeTexture(gl[`TEXTURE${unit}`])\r\n      gl.bindTexture(gl.TEXTURE_2D, texture)\r\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\r\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image)\r\n      gl.uniform1i(u_Sampler, unit)\r\n    }\r\n\r\n    let render = async () => {\r\n      let imageSrcList = [skyImageSrc, circleImageSrc]\r\n      let [skyImage, circleImage] = await loadImageList(imageSrcList)\r\n      let u_Sampler0 = gl.getUniformLocation(gl.program, 'u_Sampler0')\r\n      let u_Sampler1 = gl.getUniformLocation(gl.program, 'u_Sampler1')\r\n\r\n      initTexture(skyImage, 0, u_Sampler0)\r\n      initTexture(circleImage, 1, u_Sampler1)\r\n\r\n      gl.clearColor(0, 0, 0, 1)\r\n      gl.clear(gl.COLOR_BUFFER_BIT)\r\n      gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4)\r\n    }\r\n\r\n    render()\r\n  }, [])\r\n\r\n  return <canvas width={400} height={400} ref={ref} />\r\n}\r\n"],"sourceRoot":""}